{"ast":null,"code":"// import React,{ useEffect, useState } from 'react';\n// import {Routes, Route, Link, useNavigate} from 'react-router-dom'\n// import axios from 'axios';\n// import ApartmentList from \"./ApartmentList\"\n// import '../style/form.css'\n// import {input,dropdown} from \"../style/JSfunc\";\n// import { updateItem } from '../control';\n// let funiture = \n// [\n//   {name: \"fan\", text: \"Quạt\"},\n//   {name: \"bedroom\", text: \"Tủ\"},\n//   {name: \"table\", text: \"Bộ bàn ghế\"},\n//   {name: \"bed\", text: \"Bộ giường ngủ\"},\n//   {name: \"air_conditioner\", text: \"Máy lạnh\"},\n//   {name: \"TV\", text: \"Tivi\"},\n//   {name: \"desk\", text: \"Bàn trang điểm\"},\n//   {name: \"sofa\", text: \"Sofa\"}\n// ]\n// // let apartmentID = 0;\n// // export const setApartmentID = (id) => \n// // {\n// //   apartmentID = id\n// // }\n// function Main () {\n//   const [apartment, loadApartment]= useState([]);\n//   const [buildings, loadBuilding]= useState([]);\n//   const [properties, loadProperties]= useState([]);\n//   const [maxfloor, setFloor]= useState();\n//   const [buildingname, setbuildingname]= useState();\n//   const [f1, setF1]= useState(true);\n//   const [numFloor, setNumFloor]= useState();\n//   const [Livingroom, setLivingroom] = useState();\n//   const [Kitchen, setKitchen] = useState();\n//   const [Bedroom, setBedroom] = useState();\n//   const [Toilet, setToilet] = useState();\n//   const navigate = useNavigate();\n//   useEffect( ()=>{\n//     const foo= async ()=>{\n//       const a= await fetch(`http://localhost:1337/api/apartments/${apartmentID}`);\n//       const b= await a.json();\n//       loadApartment(await b.data);\n//     }\n//     foo();\n//   },[apartmentID]);\n//   let room = \n//   [\n//     {name: \"Livingroom\", text: \"Phòng khách\", value: Livingroom, setVal: setLivingroom},\n//     {name: \"Kitchen\", text: \"Phòng bếp\", value: Kitchen, setVal: setKitchen},\n//     {name: \"Bedroom\", text: \"Phòng ngủ\", value: Bedroom, setVal: setBedroom},\n//     {name: \"Toilet\", text: \"Nhà vệ sinh\", value: Toilet, setVal: setToilet}\n//   ]\n//   useEffect( ()=>{\n//     const foo= async ()=>{\n//       const a= await fetch(\"http://localhost:1337/api/buildings\");\n//       const b= await a.json();\n//       loadBuilding(await b.data);\n//     }\n//     foo();\n//   },[]);\n//   useEffect( ()=>{\n//     const foo= async ()=>{\n//       const a= await fetch(\"http://localhost:1337/api/properties\");\n//       const b= await a.json();\n//       loadProperties(await b.data);\n//     }\n//     foo();\n//   },[]);\n//   const handleBuildingName = (event) =>\n//   {\n//     setbuildingname(event.target.value);\n//     setNumFloor(\"\");\n//     setF1(false);\n//     event.preventDefault();\n//   }\n//   useEffect( ()=>{\n//     const foo= async ()=>{\n//       const a= await fetch(`http://localhost:1337/api/buildings/${buildingname}`);\n//       const b= await a.json();\n//       setFloor(await b.data);\n//     }\n//     foo();\n//   },[buildingname]);\n//   const floors = ((maxfloor!=null) ? Array.from({length: maxfloor.attributes.Num_of_Floors}, (_, i) => i + 1) :null);\n//   const handleFloor = (event) =>\n//   {\n//     setNumFloor(event.target.value);\n//     event.preventDefault();\n//   }\n//   const handleClick = (event) => {\n//     event.preventDefault();\n//     let {Apartment_Name, Size, Capacity, Rent_Fee, Livingroom, Kitchen, Bedroom, Toilet, Description} = document.forms[0];\n//     const data = {\n//       'data': {\n//           \"Apartment_Name\": Apartment_Name.value,\n//           \"Size\": Number(Size.value),\n//           \"Capacity\": Number(Capacity.value),\n//           \"Rent_Fee\": Rent_Fee.value,\n//           \"building\": buildingname,\n//           \"Floor\": Number(numFloor),\n//           \"Livingroom\": Livingroom.value,\n//           \"Kitchen\": Kitchen.value,\n//           \"Bedroom\": Bedroom.value,\n//           \"Toilet\": Toilet.value,\n//           \"Description\": Description.value,\n//           \"isSingle\": true\n//       }\n//     }\n//     updateItem(\"apartments\", apartmentID, data);\n//     navigate('/Apartment/ApartmentList');\n//   }\n//   const form = (\n//     <>\n//       <span className=\"function-title textxlsemibold\">Thêm căn hộ</span>\n//       <form onSubmit={handleClick} className=\"main-zone\">\n//         <div className=\"big-row\">\n//           <div className=\"col-left\">\n//             <div className=\"item-area\">\n//               {input(1,\"Tên căn hộ\",\"Apartment_Name\",true,\"Tên\",null,null,1,60,\"\")}\n//             </div>\n//             <div className=\"item-area double-col\">\n//               {input(0,\"Diện tích\",\"Size\",true,\"Đơn vị: m2\",null, null, 1, 1000, 0.5)}\n//               {input(0,\"Sức chứa\",\"Capacity\",true,\"Nhập số người\",null, null, 1, 20, 1)}\n//             </div>\n//             <div className=\"item-area double-col\">\n//               {input(0,\"Tiền thuê\",\"Rent_Fee\",true,\"Nhập số tiền\",null, null, 10000, \"\", 500)}\n//               <div/>\n//             </div>\n//             <div className=\"item-area double-col\">\n//               {dropdown(0,\"Toà nhà\",\"building_name\",true, buildings, \"Building_Name\",\n//               buildingname,handleBuildingName,false,\"Chọn tòa nhà\",\"Chọn tòa nhà\")}\n//               {dropdown(2,\"Tầng\",\"Floor\", true, floors, \"\",\n//               numFloor,handleFloor,f1,\"Chọn số tầng\",\"Vui lòng chọn tòa nhà\")}\n//             </div>\n//             <div className=\"item-area\">\n//               <span className=\"form-subtitle textmdsemibold\">Mô tả</span>\n//               <textarea name=\"Description\" className=\"text-input\" placeholder=\"Mô tả\"></textarea>\n//             </div>\n//           </div>\n//           <div className=\"col-left\">\n//             <div className=\"item-area\">\n//               <span className=\"form-subtitle textmdsemibold\">Phòng (nhập số lượng)</span>\n//               <span className=\"form-subtitle textmdsemibold\" \n//               style={{algin: \"right\", float:\"right\", right: \"40px\", position: \"relative\"}}>\n//                 Tổng: {Number(Livingroom) + Number(Kitchen) + Number(Bedroom) + Number(Toilet)}</span>\n//               <div className=\"double-col\">{room.map((x) => input(0,'',x.name,false,x.text,x.value,x.setVal,0,5,1))}</div>\n//             </div>\n//             <div className=\"item-area\">\n//               <span className=\"form-subtitle textmdsemibold\">Nội thất (nhập số lượng)</span>\n//               <div className=\"double-col\">{properties.map((x) =>input(0,'',x.id,false,x.attributes.Property_Name,false,null,null,0,10,1))}</div>\n//             </div>\n//             <div className=\"item-area\">\n//               <span className=\"form-subtitle textmdsemibold\">Thêm ảnh</span>\n//               <div className=\"add-file-area\">\n//                 <input type=\"file\" name=\"myfile\" id=\"myfile\" hidden/>\n//                 <label for=\"myfile\" className=\"add-file-button\">Nhấn để thêm ảnh</label>\n//                 </div>\n//             </div>\n//           </div>\n//         </div>\n//         <div className=\"submit-area\">\n//           <button type=\"submit\" className=\"submit-button\">\n//             <span className=\"submit-btntxt textsmsemibold\">Thêm căn hộ</span>\n//           </button>\n//         </div>\n//       </form>\n//     </>\n//   )\n//   return (\n//     <div>{form}</div>\n//   )\n// }\n// export default function ApartmentEdit () \n// {\n//   return(\n//     <Routes>\n//       <Route path=\"/\" element={<Main />} />\n//       <Route path=\"/Apartment/ApartmentList\" element={<ApartmentList />} />\n//     </Routes>\n//   )\n// }","map":{"version":3,"names":[],"sources":["D:/admin-page/src/Apartment/ApartmentEdit.js"],"sourcesContent":["// import React,{ useEffect, useState } from 'react';\r\n// import {Routes, Route, Link, useNavigate} from 'react-router-dom'\r\n// import axios from 'axios';\r\n// import ApartmentList from \"./ApartmentList\"\r\n// import '../style/form.css'\r\n// import {input,dropdown} from \"../style/JSfunc\";\r\n// import { updateItem } from '../control';\r\n\r\n// let funiture = \r\n// [\r\n//   {name: \"fan\", text: \"Quạt\"},\r\n//   {name: \"bedroom\", text: \"Tủ\"},\r\n//   {name: \"table\", text: \"Bộ bàn ghế\"},\r\n//   {name: \"bed\", text: \"Bộ giường ngủ\"},\r\n//   {name: \"air_conditioner\", text: \"Máy lạnh\"},\r\n//   {name: \"TV\", text: \"Tivi\"},\r\n//   {name: \"desk\", text: \"Bàn trang điểm\"},\r\n//   {name: \"sofa\", text: \"Sofa\"}\r\n// ]\r\n\r\n// // let apartmentID = 0;\r\n\r\n// // export const setApartmentID = (id) => \r\n// // {\r\n// //   apartmentID = id\r\n// // }\r\n// function Main () {\r\n//   const [apartment, loadApartment]= useState([]);\r\n//   const [buildings, loadBuilding]= useState([]);\r\n//   const [properties, loadProperties]= useState([]);\r\n//   const [maxfloor, setFloor]= useState();\r\n//   const [buildingname, setbuildingname]= useState();\r\n//   const [f1, setF1]= useState(true);\r\n//   const [numFloor, setNumFloor]= useState();\r\n//   const [Livingroom, setLivingroom] = useState();\r\n//   const [Kitchen, setKitchen] = useState();\r\n//   const [Bedroom, setBedroom] = useState();\r\n//   const [Toilet, setToilet] = useState();\r\n//   const navigate = useNavigate();\r\n\r\n//   useEffect( ()=>{\r\n//     const foo= async ()=>{\r\n//       const a= await fetch(`http://localhost:1337/api/apartments/${apartmentID}`);\r\n//       const b= await a.json();\r\n//       loadApartment(await b.data);\r\n//     }\r\n//     foo();\r\n//   },[apartmentID]);\r\n\r\n//   let room = \r\n//   [\r\n//     {name: \"Livingroom\", text: \"Phòng khách\", value: Livingroom, setVal: setLivingroom},\r\n//     {name: \"Kitchen\", text: \"Phòng bếp\", value: Kitchen, setVal: setKitchen},\r\n//     {name: \"Bedroom\", text: \"Phòng ngủ\", value: Bedroom, setVal: setBedroom},\r\n//     {name: \"Toilet\", text: \"Nhà vệ sinh\", value: Toilet, setVal: setToilet}\r\n//   ]\r\n//   useEffect( ()=>{\r\n//     const foo= async ()=>{\r\n//       const a= await fetch(\"http://localhost:1337/api/buildings\");\r\n//       const b= await a.json();\r\n//       loadBuilding(await b.data);\r\n//     }\r\n//     foo();\r\n//   },[]);\r\n\r\n//   useEffect( ()=>{\r\n//     const foo= async ()=>{\r\n//       const a= await fetch(\"http://localhost:1337/api/properties\");\r\n//       const b= await a.json();\r\n//       loadProperties(await b.data);\r\n//     }\r\n//     foo();\r\n//   },[]);\r\n  \r\n//   const handleBuildingName = (event) =>\r\n//   {\r\n//     setbuildingname(event.target.value);\r\n//     setNumFloor(\"\");\r\n//     setF1(false);\r\n//     event.preventDefault();\r\n//   }\r\n//   useEffect( ()=>{\r\n//     const foo= async ()=>{\r\n//       const a= await fetch(`http://localhost:1337/api/buildings/${buildingname}`);\r\n//       const b= await a.json();\r\n//       setFloor(await b.data);\r\n//     }\r\n//     foo();\r\n//   },[buildingname]);\r\n//   const floors = ((maxfloor!=null) ? Array.from({length: maxfloor.attributes.Num_of_Floors}, (_, i) => i + 1) :null);\r\n\r\n//   const handleFloor = (event) =>\r\n//   {\r\n//     setNumFloor(event.target.value);\r\n//     event.preventDefault();\r\n//   }\r\n\r\n//   const handleClick = (event) => {\r\n//     event.preventDefault();\r\n//     let {Apartment_Name, Size, Capacity, Rent_Fee, Livingroom, Kitchen, Bedroom, Toilet, Description} = document.forms[0];\r\n//     const data = {\r\n//       'data': {\r\n//           \"Apartment_Name\": Apartment_Name.value,\r\n//           \"Size\": Number(Size.value),\r\n//           \"Capacity\": Number(Capacity.value),\r\n//           \"Rent_Fee\": Rent_Fee.value,\r\n//           \"building\": buildingname,\r\n//           \"Floor\": Number(numFloor),\r\n//           \"Livingroom\": Livingroom.value,\r\n//           \"Kitchen\": Kitchen.value,\r\n//           \"Bedroom\": Bedroom.value,\r\n//           \"Toilet\": Toilet.value,\r\n//           \"Description\": Description.value,\r\n//           \"isSingle\": true\r\n//       }\r\n//     }\r\n//     updateItem(\"apartments\", apartmentID, data);\r\n//     navigate('/Apartment/ApartmentList');\r\n//   }\r\n//   const form = (\r\n//     <>\r\n//       <span className=\"function-title textxlsemibold\">Thêm căn hộ</span>\r\n//       <form onSubmit={handleClick} className=\"main-zone\">\r\n//         <div className=\"big-row\">\r\n//           <div className=\"col-left\">\r\n//             <div className=\"item-area\">\r\n//               {input(1,\"Tên căn hộ\",\"Apartment_Name\",true,\"Tên\",null,null,1,60,\"\")}\r\n//             </div>\r\n//             <div className=\"item-area double-col\">\r\n//               {input(0,\"Diện tích\",\"Size\",true,\"Đơn vị: m2\",null, null, 1, 1000, 0.5)}\r\n//               {input(0,\"Sức chứa\",\"Capacity\",true,\"Nhập số người\",null, null, 1, 20, 1)}\r\n//             </div>\r\n//             <div className=\"item-area double-col\">\r\n//               {input(0,\"Tiền thuê\",\"Rent_Fee\",true,\"Nhập số tiền\",null, null, 10000, \"\", 500)}\r\n//               <div/>\r\n//             </div>\r\n//             <div className=\"item-area double-col\">\r\n//               {dropdown(0,\"Toà nhà\",\"building_name\",true, buildings, \"Building_Name\",\r\n//               buildingname,handleBuildingName,false,\"Chọn tòa nhà\",\"Chọn tòa nhà\")}\r\n//               {dropdown(2,\"Tầng\",\"Floor\", true, floors, \"\",\r\n//               numFloor,handleFloor,f1,\"Chọn số tầng\",\"Vui lòng chọn tòa nhà\")}\r\n//             </div>\r\n//             <div className=\"item-area\">\r\n//               <span className=\"form-subtitle textmdsemibold\">Mô tả</span>\r\n//               <textarea name=\"Description\" className=\"text-input\" placeholder=\"Mô tả\"></textarea>\r\n//             </div>\r\n//           </div>\r\n//           <div className=\"col-left\">\r\n//             <div className=\"item-area\">\r\n//               <span className=\"form-subtitle textmdsemibold\">Phòng (nhập số lượng)</span>\r\n//               <span className=\"form-subtitle textmdsemibold\" \r\n//               style={{algin: \"right\", float:\"right\", right: \"40px\", position: \"relative\"}}>\r\n//                 Tổng: {Number(Livingroom) + Number(Kitchen) + Number(Bedroom) + Number(Toilet)}</span>\r\n//               <div className=\"double-col\">{room.map((x) => input(0,'',x.name,false,x.text,x.value,x.setVal,0,5,1))}</div>\r\n//             </div>\r\n//             <div className=\"item-area\">\r\n//               <span className=\"form-subtitle textmdsemibold\">Nội thất (nhập số lượng)</span>\r\n//               <div className=\"double-col\">{properties.map((x) =>input(0,'',x.id,false,x.attributes.Property_Name,false,null,null,0,10,1))}</div>\r\n//             </div>\r\n//             <div className=\"item-area\">\r\n//               <span className=\"form-subtitle textmdsemibold\">Thêm ảnh</span>\r\n//               <div className=\"add-file-area\">\r\n//                 <input type=\"file\" name=\"myfile\" id=\"myfile\" hidden/>\r\n//                 <label for=\"myfile\" className=\"add-file-button\">Nhấn để thêm ảnh</label>\r\n//                 </div>\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n//         <div className=\"submit-area\">\r\n//           <button type=\"submit\" className=\"submit-button\">\r\n//             <span className=\"submit-btntxt textsmsemibold\">Thêm căn hộ</span>\r\n//           </button>\r\n//         </div>\r\n//       </form>\r\n//     </>\r\n//   )\r\n//   return (\r\n//     <div>{form}</div>\r\n//   )\r\n// }\r\n\r\n// export default function ApartmentEdit () \r\n// {\r\n//   return(\r\n//     <Routes>\r\n//       <Route path=\"/\" element={<Main />} />\r\n//       <Route path=\"/Apartment/ApartmentList\" element={<ApartmentList />} />\r\n//     </Routes>\r\n//   )\r\n// }"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}